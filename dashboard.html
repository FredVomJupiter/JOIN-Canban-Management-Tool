<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JOIN</title>

    <script defer src="./js/database.js"></script>
    <script src="./js/index.js"></script>
    <script defer src="./js/board.js"></script>
    <script defer src="./js/menu-navigation.js"></script>
    <script defer src="./js/addcontact.js"></script>
    <script src="./js/editcontact.js"></script>
    <script defer src="./js/addtask.js"></script>
    <script defer src="./js/drag&drop.js"></script>

    <link rel="stylesheet" href="./css/style.css">
</head>

<body onload="init();">

    <div class="background"></div>

    <!-- All Overlays Are Here -->
    <div class="overlay-background d-none" id="overlayBackground" onclick="closeOverlay()">

        <!-- Card Overlay -->
        <div class="board-taskoverlay-container d-none" id="overlayCard" onclick="stopPropagation(event)">
        </div>

        <!-- Add Task Overlay -->
        <form class="addtask-overlay-container d-none" id="addtaskOverlay" onclick="stopPropagation(event)">
            <!-- Content left side -->
            <div class="addtask-leftcontainer">
                <div class="addtask-leftcontainer-title">
                    <span class="addtask-leftcontainer-titletext">Title</span>
                    <input class="addtask-leftcontainer-titlefield" type="text" id="addtaskOverlayTitle"
                        placeholder="Enter a title">
                    <div class="error"></div>
                </div>

                <div class="addtask-leftcontainer-description">
                    <span class="addtask-leftcontainer-descriptiontext">Description</span>
                    <textarea class="addtask-leftcontainer-descriptionfield" cols="1" rows="2"
                        id="addtaskOverlayDescription" placeholder="Enter a description"></textarea>
                    <div class="error"></div>
                </div>

                <div class="addtask-leftcontainer-category">
                    <span class="addtask-leftcontainer-categorytext">Category</span>
                    <div class="addtask-leftcontainer-categoryfield" id="addtaskOverlayCategory" onclick="expandCategories('overlay')">Select task category
                    </div>
                </div>

                <div class="addtask-leftcontainer-assigned">
                    <span class="addtask-leftcontainer-assignedtext">Assigned to</span>
                    <div class="addtask-leftcontainer-assignedfield" id="addtaskOverlayAssigned" onclick="expandAssigned('overlay')">Select contacts to assign
                    </div>
                </div>
                <div class="addtask-leftcontainer-assigned-display" id="displayOverlayAssigned"></div>
            </div>

            <div class="addtask-line"></div>

            <!-- Content right side -->
            <div class="addtask-rightcontainer">
                <div class="addtask-close-btn" onclick="closeOverlay()"></div>
                <div class="addtask-rightcontainer-date">
                    <span class="addtask-rightcontainer-datetext">Due date</span>
                    <input class="addtask-rightcontainer-datefield" type="date" id="addtaskOverlayDate">
                    <div class="error"></div>
                </div>

                <div class="addtask-rightcontainer-prio">
                    <span class="addtask-rightcontainer-priotext">Prio</span>
                    <div class="addtask-rightcontainer-priobtns" id="addtaskOverlayPrio">
                        <div class="addtask-rightcontainer-priobtns-outline" style="width: 141px;" onclick="setPriority('overlay', 'urgent')">
                            <span class="addtask-rightcontainer-priobtns-text">Urgent</span>
                            <img class="addtast-rightcontainer-priobtns-icon" src="./assets/img/priohigh.svg">
                        </div>
                        <div class="addtask-rightcontainer-priobtns-outline" style="width: 130px;" onclick="setPriority('overlay', 'medium')">
                            <span class="addtask-rightcontainer-priobtns-text">Medium</span>
                            <img class="addtast-rightcontainer-priobtns-icon" src="./assets/img/priomedium.svg">
                        </div>
                        <div class="addtask-rightcontainer-priobtns-outline" style="width: 136px;" onclick="setPriority('overlay', 'low')">
                            <span class="addtask-rightcontainer-priobtns-text">Low</span>
                            <img class="addtast-rightcontainer-priobtns-icon" src="./assets/img/priolow.svg">
                        </div>
                    </div>
                </div>

                <div class="addtask-rightcontainer-subtask" >
                    <span class="addtask-rightcontainer-subtasktext">Subtask</span>
                    <div class="addtask-rightcontainer-subtaskborder">
                        <input class="addtask-rightcontainer-subtaskfield" type="text" placeholder="Add new subtask" id="addtaskOverlaySub">
                        <img class="addtask-rightcontainer-subtask-icon" src="./assets/img/plus.svg" onclick="addSubtask('overlay')">
                    </div>
                    <div class="gap" id="addtaskOverlaySubbox">
                    </div>
                </div>

                <!-- Buttons bottom right -->
                <div class="addtask-button-container">
                    <div class="addtask-button-inner">
                        <div class="addtask-button-clear" onclick="clearOverlay()">
                            Clear
                            <div class="addtask-button-clearicon"></div>
                        </div>
                        <input class="addtask-button-createtask" type="submit" id="overlaySubmit" value="Add task">
                    </div>
                </div>
            </div>
        </form>

        <!-- Add Contact Overlay-->
        <div class="addcontact-content d-none" id="addcontactOverlay" onclick="stopPropagation(event)">
            <img class="addcontact-task-close" src="./assets/img/clear.svg" onclick="closeOverlay()">
            <div class="addcontact-title-container">
                <img src="./assets/img/logo_white.svg" alt="logo">
                <div class="addcontact-title">Add contact</div>
                <div class="addcontact-subtitle">Tasks are better with a team</div>
                <img src="./assets/img/horizontal_blue_line.svg">
            </div>
            <div class="addcontact-form">
                <div class="addcontact-user-badge">
                    <img src="./assets/img/user_guest.svg">
                </div>
                <form class="addcontact-form-right" id="formAddcontact">
                    <div class="addcontact-form-container">
                        <input class="addcontact-input-profile" type="text" id="addcontactInputName" placeholder="Name">
                        <div class="error"></div>
                    </div>
                    <div class="addcontact-form-container">
                        <input class="addcontact-input-email" type="text" id="addcontactInputEmail" placeholder="Email">
                        <div class="error"></div>
                    </div>
                    <div class="addcontact-form-container">
                        <input class="addcontact-input-phone" type="text" id="addcontactInputPhone" placeholder="Phone">
                        <div class="error"></div>
                    </div>
                    <div class="addcontact-submit-btns">
                        <input class="addcontact-clear-btn" type="button" value="Clear"
                            onclick="clearNewcontactInputfields()">
                        <input class="addcontact-create-btn" type="submit" value="Create contact">
                    </div>
                </form>
            </div>
        </div>

        <!-- Edit Contact Overlay -->
        <div class="editcontact-content d-none" id="editcontactOverlay" onclick="stopPropagation(event)">

        </div>

    </div>

    <!-- Top Navigation Bar -->
    <header class="topnav">
        <div class="topnav-logo"><img src="./assets/img/logo_black.svg"></div>
        <span class="topnav-text">Kanban Project Management Tool</span>

        <div class="topnav-right">
            <img class="topnav-help" src="./assets/img/help.svg" onclick="openPage('help')">

            <img class="topnav-profile" src="./assets/img/profilepicture.png" onclick="openLogin()">
        </div>
    </header>

    <!-- Side Navigation Bar -->
    <div class="sidebar">
        <div class="sidebar-logo"><img src="./assets/img/logo_white.svg"></div>
        <div class="sidebar-menu-container">
            <div class="sidebar-menu-option-dark" id="menu-summary" onclick="openPage('summary')">
                <div><img src="./assets/img/summary_icon_bright.svg"></div>
                <p class="sidebar-menu-text">Summary</p>
            </div>
            <div class="sidebar-menu-option-light" id="menu-board" onclick="openPage('board')">
                <div><img src="./assets/img/board_icon.svg"></div>
                <p class="sidebar-menu-text">Board</p>
            </div>
            <div class="sidebar-menu-option-light" id="menu-addtask" onclick="openPage('addtask')">
                <div><img src="./assets/img/addTask_icon.svg"></div>
                <p class="sidebar-menu-text">Add Task</p>
            </div>
            <div class="sidebar-menu-option-light" id="menu-contacts" onclick="openPage('contacts')">
                <div><img src="./assets/img/contacts_icon.svg"></div>
                <p class="sidebar-menu-text">Contacts</p>
            </div>
            <div class="sidebar-menu-option-light margin-top" id="menu-legal"
                onclick="openPage('legal')">
                <div><img src="./assets/img/info_icon.svg"></div>
                <p class="sidebar-menu-text">Legal notice</p>
            </div>
        </div>
    </div>

    <!-- Content Container for summary, board, addtask, contacts -->
    <div class="container">

        <!-- SUMMARY -->
        <main class="summary" id="summary">

            <!-- Title on top -->
            <div class="summary-title-wrap">
                <span class="summary-title">Summary</span>
                <div class="summary-title-line"></div>
                <span class="summary-title-text">Everything in a nutshell!</span>
            </div>

            <!-- Greeting on the right -->
            <div class="summary-greeting-wrap">
                <span class="summary-greeting">Good morning,</span>
                <span class="summary-username">Sofia Müller</span>
            </div>

            <!-- Center content -->
            <div class="summary-center-container">
                <!-- TOP part of center content -->
                <div class="summary-center-topwrap">
                    <div class="summary-center-tasks" onclick="openPage('board')">
                        <div class="summary-center-tasks-inner">
                            <span class="summary-center-tasks-counter" id="tasksCounter"></span>
                            <span class="summary-center-tasks-text">Tasks in Board</span>
                        </div>
                    </div>
                    <div class="summary-center-progress" onclick="openPage('board')">
                        <div class="summary-center-progress-inner">
                            <span class="summary-center-progress-counter" id="progressCounter"></span>
                            <span class="summary-center-progress-text">Tasks in Progress</span>
                        </div>
                    </div>
                    <div class="summary-center-feedback" onclick="openPage('board')">
                        <div class="summary-center-feedback-inner">
                            <span class="summary-center-feedback-counter" id="feedbackCounter"></span>
                            <span class="summary-center-feedback-text">Awaiting Feedback</span>
                        </div>
                    </div>
                </div>

                <!-- MIDDLE part of center content -->
                <div class="summary-center-middlewrap" onclick="openPage('board')">

                    <!-- MIDDLE LEFT part -->
                    <div class="summary-center-middle-left">
                        <div class="summary-center-middle-left-icon-outer">
                            <img class="summary-center-middle-left-icon" src="./assets/img/urgent.svg">
                        </div>
                        <div class="summary-center-middle-left-counter-outer">
                            <span class="summary-center-middle-left-counter" id="urgentCounter"></span>
                            <span class="summary-center-middle-left-text">Urgent</span>
                        </div>
                    </div>

                    <!-- MIDDLE CENTER line-->
                    <div class="summary-center-middle-line"></div>

                    <!-- MIDDLE RIGHT part -->
                    <div class="summary-center-middle-right">
                        <span class="summary-center-middle-right-date" id="urgentDate"></span>
                        <span class="summary-center-middle-right-text">Upcoming deadline</span>
                    </div>
                </div>

                <!-- BOTTOM part of center content -->
                <div class="summary-center-bottomwrap">

                    <!-- TO DO part left -->
                    <div class="summary-center-bottom-todo" onclick="openPage('board')">
                        <div class="summary-center-bottom-todo-iconwrap">
                            <div class="summary-center-bottom-todo-icon"></div>
                        </div>
                        <div class="summary-center-bottom-todo-counter-outer">
                            <span class="summary-center-bottom-todo-counter" id="todoCounter"></span>
                            <span class="summary-center-bottom-todo-text">To-do</span>
                        </div>
                    </div>

                    <!-- DONE part right -->
                    <div class="summary-center-bottom-done" onclick="openPage('board')">
                        <div class="summary-center-bottom-done-iconwrap">
                            <div class="summary-center-bottom-done-icon"></div>
                        </div>
                        <div class="summary-center-bottom-done-counter-outer">
                            <span class="summary-center-bottom-done-counter" id="doneCounter"></span>
                            <span class="summary-center-bottom-done-text">Done</span>
                        </div>
                    </div>

                </div>
            </div>
        </main>

        <!-- BOARD -->
        <main class="board d-none" id="board">

            <!-- Title on top -->
            <div class="board-title-wrap">
                <!-- Title -->
                <div class="board-title-outer">
                    <span class="board-title">Board</span>
                </div>

                <div class="board-topright">
                    <!-- Searchbar -->
                    <div class="board-searchbar-border">
                        <div class="board-searchbar-outer">
                            <div class="board-searchbar-inner">
                                <input class="board-searchbar-text" id="searchField" type="search"
                                    placeholder="Find Task" onkeyup="filterCards()">
                            </div>
                            <div class="board-searchbar-icon-wrap">
                                <div class="board-searchbar-verticalline"></div>
                                <img class="board-searchbar-icon" src="./assets/img/search.svg">
                            </div>
                        </div>
                    </div>

                    <!-- addTask Button -->
                    <div class="board-addtask-button" onclick="openAddtaskOverlay('To do')">
                        <span class="board-addtask-button-text">Add task</span>
                        <div class="board-addtask-button-icon-outer">
                            <div class="board-addtask-button-icon-inner">+
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content -->
            <div class="board-container">

                <!-- TODO column -->
                <div class="board-column">
                    <div class="board-column-top">
                        <span class="board-column-title">To do</span>
                        <img class="board-column-icon" src="./assets/img/addbtn.svg" onclick="openAddtaskOverlay('To do')">
                    </div>

                    <div class="canvas" id="todo-canvas"></div>
                </div>

                <!-- PROGRESS column -->
                <div class="board-column">
                    <div class="board-column-top">
                        <span class="board-column-title">In Progress</span>
                        <img class="board-column-icon" src="./assets/img/addbtn.svg" onclick="openAddtaskOverlay('In Progress')">
                    </div>

                    <div class="canvas" id="progress-canvas"></div>
                </div>

                <!-- FEEDBACK column -->
                <div class="board-column">
                    <div class="board-column-top">
                        <span class="board-column-title">Awaiting Feedback</span>
                        <img class="board-column-icon" src="./assets/img/addbtn.svg" onclick="openAddtaskOverlay('Awaiting Feedback')">
                    </div>

                    <div class="canvas" id="feedback-canvas"></div>
                </div>


                <!-- DONE column -->
                <div class="board-column">
                    <div class="board-column-top">
                        <span class="board-column-title">Done</span>
                        <img class="board-column-icon" src="./assets/img/addbtn.svg" onclick="openAddtaskOverlay('Done')">
                    </div>

                    <div class="canvas" id="done-canvas"></div>
                </div>

            </div>
        </main>

        <!-- ADDTASK -->
        <main class="addtask d-none" id="addtask">

            <!-- Title -->
            <div class="addtask-title-wrap">
                <span class="addtask-title">Add Task</span>
            </div>

            <form class="addtask-container" id="addtaskMenu" onclick="stopPropagation(event)">
                <!-- Content left side -->
                <div class="addtask-leftcontainer">
                    <div class="addtask-leftcontainer-title">
                        <span class="addtask-leftcontainer-titletext">Title</span>
                        <input class="addtask-leftcontainer-titlefield" type="text" id="addtaskMenuTitle"
                            placeholder="Enter a title">
                        <div class="error"></div>
                    </div>
    
                    <div class="addtask-leftcontainer-description">
                        <span class="addtask-leftcontainer-descriptiontext">Description</span>
                        <textarea class="addtask-leftcontainer-descriptionfield" cols="1" rows="2"
                            id="addtaskMenuDescription" placeholder="Enter a description"></textarea>
                        <div class="error"></div>
                    </div>
    
                    <div class="addtask-leftcontainer-category">
                        <span class="addtask-leftcontainer-categorytext">Category</span>
                        <div class="addtask-leftcontainer-categoryfield" id="addtaskMenuCategory" onclick="expandCategories('menu')">Select task category
                        </div>
                    </div>
    
                    <div class="addtask-leftcontainer-assigned">
                        <span class="addtask-leftcontainer-assignedtext">Assigned to</span>
                        <div class="addtask-leftcontainer-assignedfield" id="addtaskMenuAssigned" onclick="expandAssigned('menu')">Select contacts to assign
                        </div>
                    </div>
                    <div class="addtask-leftcontainer-assigned-display" id="displayMenuAssigned"></div>
                </div>
    
                <div class="addtask-line"></div>
    
                <!-- Content right side -->
                <div class="addtask-rightcontainer">
                    <div class="addtask-rightcontainer-date">
                        <span class="addtask-rightcontainer-datetext">Due date</span>
                        <input class="addtask-rightcontainer-datefield" type="date" id="addtaskMenuDate">
                        <div class="error"></div>
                    </div>
    
                    <div class="addtask-rightcontainer-prio">
                        <span class="addtask-rightcontainer-priotext">Prio</span>
                        <div class="addtask-rightcontainer-priobtns" id="addtaskMenuPrio">
                            <div class="addtask-rightcontainer-priobtns-outline" style="width: 141px;" onclick="setPriority('menu', 'urgent')">
                                <span class="addtask-rightcontainer-priobtns-text">Urgent</span>
                                <img class="addtast-rightcontainer-priobtns-icon" src="./assets/img/priohigh.svg">
                            </div>
                            <div class="addtask-rightcontainer-priobtns-outline" style="width: 130px;" onclick="setPriority('menu', 'medium')">
                                <span class="addtask-rightcontainer-priobtns-text">Medium</span>
                                <img class="addtast-rightcontainer-priobtns-icon" src="./assets/img/priomedium.svg">
                            </div>
                            <div class="addtask-rightcontainer-priobtns-outline" style="width: 136px;" onclick="setPriority('menu', 'low')">
                                <span class="addtask-rightcontainer-priobtns-text">Low</span>
                                <img class="addtast-rightcontainer-priobtns-icon" src="./assets/img/priolow.svg">
                            </div>
                        </div>
                    </div>
    
                    <div class="addtask-rightcontainer-subtask" >
                        <span class="addtask-rightcontainer-subtasktext">Subtask</span>
                        <div class="addtask-rightcontainer-subtaskborder">
                            <input class="addtask-rightcontainer-subtaskfield" type="text" placeholder="Add new subtask" id="addtaskMenuSub">
                            <img class="addtask-rightcontainer-subtask-icon" src="./assets/img/plus.svg" onclick="addSubtask('menu')">
                        </div>
                        <div class="gap" id="addtaskMenuSubbox">
                        </div>
                    </div>
    
                    <!-- Buttons bottom right -->
                    <div class="addtask-button-container">
                        <div class="addtask-button-inner">
                            <div class="addtask-button-clear" onclick="clearAddtaskMenu()">
                                Clear
                                <div class="addtask-button-clearicon"></div>
                            </div>
                            <input class="addtask-button-createtask" type="submit" value="Add task">
                        </div>
                    </div>
                </div>
            </form>
        </main>

        <!-- CONTACTS -->
        <main class="contacts d-none" id="contacts">

            <!-- Title -->
            <div class="contact-title-container">
                <span class="contact-title">Contacts</span>
                <div class="contact-title-line"></div>
                <span class="contact-title-text">Better with a team</span>
            </div>

            <!-- Content -->
            <div class="contact-container">
                <div class="contact-container-inner" id="contactList">


                </div>
            </div>

            <div class="contact-canvas" id="contactCanvas">

            </div>

            <div class="contact-addcontact-button" onclick="openAddcontactOverlay('To do')">
                <span class="contact-addcontact-button-text">New contact</span>
                <img class="contact-addcontact-button-icon" src="./assets/img/addcontact.svg">
            </div>

        </main>

        <!-- LEGAL -->
        <main class="legal d-none" id="legal">

            <!-- Content -->
            <div class="legal-title">
                <span class="legal-title-span">Legal Notice</span>
            </div>

            <div class="legal-join-inner">
                <div class="legal-blackArrow-wrap">
                    <img src="./assets/img/blackarrow.svg" onclick="openPage('summary')">
                </div>

                <span class="legal-responsible-title">Legally responsible contact person </span>
                <span class="legal-responsible-txt">
                    Anbieter: Max Mustermann<br>
                    Musterstraße 1<br>
                    80999 München<br>
                    Kontakt: Hubert der Hinkende<br>
                    Telefon: 089/1234567-8<br>
                    Telefax: 089/1234567-9<br>
                    E-Mail: mail@mustermann.de<br>
                    Website: www.mustermann.de<br>
                    Bei redaktionellen Inhalten verantwortlich nach § 55 Abs.2 RStV<br>
                    Moritz Schreiberling<br>
                    Musterstraße 2<br>
                    80999 München
                </span>

                <span class="legal-content-title">Concerning external links and user-created contents</span>
                <span class="legal-content-text">
                    The above mentioned persons are not liable for any offending user-created content that third parties
                    post here. This web-app is being checked for offending contents on a regular basis. If offending
                    contents are identfied, they will be removed.
                </span>

            </div>

        </main>

        <!-- HELP -->
        <main class="help d-none" id="help">

            <!-- Content -->
            <div class="help-title">
                <span class="help-title-span">Help</span>
            </div>

            <div class="help-join-inner">
                <div class="help-blackArrow-wrap">
                    <img src="./assets/img/blackarrow.svg" onclick="openPage('summary')">
                </div>

                <span class="help-whatIsJoin-title">
                    What is Join?
                </span>

                <span class="help-whatIsJoin-txt">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque odio felis, iaculis ut massa
                    eget,
                    ornare lacinia urna. In dignissim justo eu velit sagittis, in scelerisque nulla convallis.
                    Vestibulum
                    eros lorem, sollicitudin eget eros non, varius aliquam mauris. Sed turpis ipsum, condimentum quis
                    nulla
                    at, lobortis facilisis ipsum. Nunc erat justo, hendrerit vel enim vitae, feugiat mattis dui. In
                    auctor
                    dignissim luctus. Mauris ornare ipsum at ultrices eleifend. Praesent tempus congue magna. Quisque
                    libero
                    erat, pharetra a neque et, imperdiet semper justo.
                </span>

                <span class="help-howToUseIt-title">How to use it</span>

                <div class="help-howToUseIt-wrap">

                    <div class="help-howToUseIt-inner">

                        <span class="help-howToUseIt-number">1.</span>

                        <span class="help-howToUseIt-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                            Pellentesque odio felis, iaculis ut massa eget, ornare lacinia urna. In dignissim justo eu
                            velit
                            sagittis, in scelerisque nulla convallis. Vestibulum eros lorem, sollicitudin eget eros non,
                            varius aliquam mauris.
                        </span>

                    </div>

                    <div class="help-howToUseIt-inner">

                        <span class="help-howToUseIt-number">2.</span>

                        <span class="help-howToUseIt-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                            Pellentesque odio felis, iaculis ut massa eget, ornare lacinia urna.
                        </span>

                    </div>

                    <div class="help-howToUseIt-inner">

                        <span class="help-howToUseIt-number">3.</span>

                        <span class="help-howToUseIt-text">Nunc erat justo, hendrerit vel enim vitae, feugiat
                            mattis
                            dui. In auctor dignissim luctus. Mauris ornare ipsum at ultrices eleifend. Praesent tempus
                            congue magna. Quisque libero erat, pharetra a neque et, imperdiet semper justo.
                        </span>
                    </div>
                </div>
            </div>
        </main>

    </div>

</body>

</html>